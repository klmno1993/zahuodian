<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=375,initial-scale=1">
<title>å¾®ä¿¡</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, 'Helvetica Neue', sans-serif;
    background: #ededed;
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  /* ---- å¯¼èˆªæ  ---- */
  .nav-bar {
    background: #ededed;
    padding: 60px 16px 10px;
    font-size: 17px;
    font-weight: 600;
    text-align: center;
    border-bottom: .5px solid #d6d6d6;
    flex-shrink: 0;
  }

  /* ---- èŠå¤©åˆ—è¡¨ ---- */
  .chat-list {
    flex: 1;
    overflow-y: auto;
    background: #fff;
    -webkit-overflow-scrolling: touch;
  }
  .chat-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    gap: 12px;
    border-bottom: .5px solid #f0f0f0;
  }
  .chat-avatar {
    width: 48px;
    height: 48px;
    border-radius: 6px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    color: #fff;
  }
  .chat-info { flex: 1; min-width: 0; }
  .chat-name {
    font-size: 16px;
    color: #111;
    margin-bottom: 3px;
  }
  .chat-msg {
    font-size: 13px;
    color: #999;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .chat-meta {
    flex-shrink: 0;
    text-align: right;
  }
  .chat-time {
    font-size: 11px;
    color: #bbb;
  }
  .chat-badge {
    margin-top: 4px;
    width: 18px;
    height: 18px;
    background: #f44;
    color: #fff;
    font-size: 11px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: auto;
  }
  .chat-badge.hidden { display: none; }

  /* ---- TabBar ---- */
  .tab-bar {
    display: flex;
    background: #f7f7f7;
    border-top: .5px solid #d6d6d6;
    padding: 4px 0 22px;
    flex-shrink: 0;
  }
  .tab-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    font-size: 10px;
    color: #999;
    padding-top: 6px;
  }
  .tab-item.active { color: #07C160; }
  .tab-icon { font-size: 22px; }
</style>
</head>
<body>

<div class="nav-bar">å¾®ä¿¡</div>

<div class="chat-list" id="chatList">
  <!-- JS åŠ¨æ€ç”Ÿæˆ -->
</div>

<div class="tab-bar">
  <div class="tab-item active">
    <span class="tab-icon">ğŸ’¬</span>
    <span>å¾®ä¿¡</span>
  </div>
  <div class="tab-item">
    <span class="tab-icon">ğŸ‘¤</span>
    <span>é€šè®¯å½•</span>
  </div>
  <div class="tab-item">
    <span class="tab-icon">ğŸ”</span>
    <span>å‘ç°</span>
  </div>
  <div class="tab-item">
    <span class="tab-icon">ğŸ‘¤</span>
    <span>æˆ‘</span>
  </div>
</div>

<script>
(function() {

  // ============ ä¸æ‰‹æœºå£³é€šä¿¡çš„ Bridge ============
  const bridge = {
    send(msg) {
      if (window.parent !== window) {
        window.parent.postMessage(msg, '*');
      }
    },
    ready() {
      this.send({ type: 'APP_READY', appId: 'wechat' });
    },
    updateBadge(count, title, body) {
      this.send({ type: 'BADGE_UPDATE', appId: 'wechat', count, title, body });
    },
    pushNotification(title, body) {
      this.send({ type: 'NOTIFICATION_PUSH', appId: 'wechat', title, body });
    }
  };

  // ============ æ¼”ç¤ºæ•°æ®ï¼ˆæœªæ¥æ›¿æ¢ä¸ºçœŸå®æ•°æ®ï¼‰ ============
  const mockChats = [
    { name: 'å¼ ä¸‰', avatar: 'ğŸ‘¨', avatarBg: '#5B8FF9', msg: 'åœ¨å—ï¼Ÿæ™šä¸Šä¸€èµ·åƒé¥­', time: '10:24', unread: 2 },
    { name: 'å·¥ä½œç¾¤', avatar: 'ğŸ‘¥', avatarBg: '#5AD8A6', msg: '[å›¾ç‰‡]', time: '09:51', unread: 5 },
    { name: 'æå››', avatar: 'ğŸ‘©', avatarBg: '#F6BD16', msg: 'æ”¶åˆ°ï¼Œè°¢è°¢', time: 'æ˜¨å¤©', unread: 0 },
    { name: 'æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹', avatar: 'ğŸ“', avatarBg: '#6F5EF9', msg: '[æ–‡ä»¶] éœ€æ±‚æ–‡æ¡£.pdf', time: 'æ˜¨å¤©', unread: 0 },
    { name: 'ç‹äº”', avatar: 'ğŸ§‘', avatarBg: '#FF6B72', msg: 'å“ˆå“ˆå“ˆå“ˆå“ˆ', time: 'å‘¨ä¸€', unread: 0 },
  ];

  // ============ æ¸²æŸ“èŠå¤©åˆ—è¡¨ ============
  const chatList = document.getElementById('chatList');

  mockChats.forEach(chat => {
    const item = document.createElement('div');
    item.className = 'chat-item';
    item.innerHTML = `
      <div class="chat-avatar" style="background:${chat.avatarBg}">${chat.avatar}</div>
      <div class="chat-info">
        <div class="chat-name">${chat.name}</div>
        <div class="chat-msg">${chat.msg}</div>
      </div>
      <div class="chat-meta">
        <div class="chat-time">${chat.time}</div>
        <div class="chat-badge ${chat.unread ? '' : 'hidden'}">${chat.unread}</div>
      </div>
    `;
    chatList.appendChild(item);
  });

  // ============ é€šçŸ¥æ‰‹æœºå£³ ============
  // è®¡ç®—æ€»æœªè¯»æ•°
  const totalUnread = mockChats.reduce((sum, c) => sum + c.unread, 0);
  bridge.ready();
  bridge.updateBadge(totalUnread, 'å¼ ä¸‰', 'åœ¨å—ï¼Ÿæ™šä¸Šä¸€èµ·åƒé¥­');

})();
</script>
</body>
</html>
